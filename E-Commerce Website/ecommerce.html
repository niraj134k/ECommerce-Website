<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern E-Commerce</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Apply a system sans-serif font stack */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        
        /* Custom scrollbar for a cleaner look (optional) */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Simple fade-in animation for the notification */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(20px); }
        }
        .notification.show {
            animation: fadeIn 0.3s ease-out forwards;
        }
        .notification.hide {
            animation: fadeOut 0.3s ease-in forwards;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="text-2xl font-bold text-gray-800">Shop<span class="text-indigo-600">Lite</span></a>
            
            <!-- Navigation Links -->
            <div class="hidden md:flex space-x-6 items-center">
                <a href="#" class="nav-link text-indigo-600 font-semibold" data-page="home">Home</a>
                <a href="#" class="nav-link text-gray-600 hover:text-indigo-600" data-page="shop">Shop</a>
                <a href="#" class="nav-link text-gray-600 hover:text-indigo-600" data-page="about">About</a>
                <a href="#" class="nav-link text-gray-600 hover:text-indigo-600" data-page="contact">Contact</a>
            </div>
            
            <!-- Cart Icon -->
            <button id="cart-button" class="relative text-gray-600 hover:text-indigo-600 focus:outline-none">
                <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
                </svg>
                <span id="cart-count" class="absolute -top-2 -right-2 bg-indigo-600 text-white text-xs font-semibold rounded-full w-5 h-5 flex items-center justify-center">
                    0
                </span>
            </button>
        </nav>
    </header>

    <!-- ===== Home Page Section ===== -->
    <section id="page-home" class="page-section container mx-auto px-6 py-16 md:py-24">
        <div class="flex flex-col md:flex-row items-center">
            <!-- Text Content -->
            <div class="md:w-1/2 text-center md:text-left mb-12 md:mb-0">
                <h1 class="text-4xl lg:text-6xl font-bold text-gray-900 mb-4 leading-tight">
                    Find Your Next<br class="hidden md:block"> <span class="text-indigo-600">Favorite Thing.</span>
                </h1>
                <p class="text-lg text-gray-600 mb-8">
                    ShopLite offers the latest in tech, fashion, and home goods, all in one place.
                </p>
                <button id="shop-now-btn" class="nav-link bg-indigo-600 text-white font-semibold py-3 px-8 rounded-lg text-lg hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50" data-page="shop">
                    Shop Now
                </button>
            </div>
            <!-- Image -->
            <div class="md:w-1/2">
                <img src="https://placehold.co/600x400/6366F1/white?text=ShopLite" alt="Hero Image" class="rounded-lg shadow-xl w-full">
            </div>
        </div>
    </section>

    <!-- ===== Shop Page Section (Product Grid) ===== -->
    <section id="page-shop" class="page-section container mx-auto px-6 py-12">
        <h1 class="text-3xl font-bold text-gray-900 mb-8">Shop Our Products</h1>
        
        <!-- Product List Container -->
        <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            <!-- Product cards will be dynamically inserted here by JavaScript -->
        </div>
    </section>

    <!-- ===== About Page Section ===== -->
    <section id="page-about" class="page-section container mx-auto px-6 py-16">
        <div class="bg-white p-8 md:p-12 rounded-lg shadow-xl max-w-4xl mx-auto">
            <h1 class="text-3xl font-bold text-gray-900 mb-6 text-center">About ShopLite</h1>
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="md:w-1/2">
                    <img src="https://placehold.co/500x300/3B82F6/white?text=Our+Team" alt="About Us Image" class="rounded-lg shadow-md w-full">
                </div>
                <div class="md:w-1/2 text-gray-700 space-y-4">
                    <p class="text-lg">
                        Welcome to ShopLite, your new destination for curated goods. We started in 2025 with a simple idea: to make online shopping a truly delightful experience.
                    </p>
                    <p>
                        Our mission is to bring you a high-quality selection of products that blend innovation, style, and practicality. We believe that shopping should be simple, personal, and inspiring.
                    </p>
                    <p>
                        From cutting-edge electronics to timeless home decor, every item in our collection is hand-picked by our team of expert curators. We partner with the best brands and artisans to ensure you get nothing but the best.
                    </p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- ===== Contact Page Section ===== -->
    <section id="page-contact" class="page-section container mx-auto px-6 py-16">
        <div class="bg-white p-8 md:p-12 rounded-lg shadow-xl max-w-4xl mx-auto">
            <h1 class="text-3xl font-bold text-gray-900 mb-8 text-center">Get in Touch</h1>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                <!-- Contact Form -->
                <form action="#" method="POST">
                    <div class="space-y-6">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                            <input type="text" id="name" name="name" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500" placeholder="Jane Doe">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                            <input type="email" id="email" name="email" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500" placeholder="you@example.com">
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
                            <textarea id="message" name="message" rows="5" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500" placeholder="How can we help you?"></textarea>
                        </div>
                        <div>
                            <button type="submit" class="w-full bg-indigo-600 text-white py-3 px-6 rounded-lg font-semibold text-lg hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                Send Message
                            </button>
                        </div>
                    </div>
                </form>
                
                <!-- Contact Info -->
                <div class="space-y-6 text-gray-700">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Our Office</h3>
                        <p>123 Shopping Lane<br>Tech City, TX 75001</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Email Us</h3>
                        <p class="text-indigo-600 hover:text-indigo-800 transition-colors">support@shoplite.com</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Call Us</h3>
                        <p class="text-indigo-600 hover:text-indigo-800 transition-colors">(+91) 955-222-4141</p>
                    </div>
                    <p>
                        We're available Monday to Friday, 9:00 AM to 5:00 PM (CST). We'd love to hear from you!
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white mt-12 shadow-inner">
        <div class="container mx-auto px-6 py-8 text-center text-gray-600">
            <p>&copy; 2025 ShopLite. All rights reserved.</p>
        </div>
    </footer>

    <!-- Cart Modal / Sidebar -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-end opacity-0 transform -translate-x-full z-50 pointer-events-none">
        <!-- Sidebar -->
        <div id="cart-sidebar" class="w-full max-w-md bg-white h-full shadow-xl p-6 transform translate-x-full">
            <div class="flex justify-between items-center border-b pb-4">
                <h2 class="text-2xl font-bold text-gray-800">Your Cart</h2>
                <button id="close-cart-button" class="text-gray-500 hover:text-gray-800 focus:outline-none">
                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <!-- Cart Items Container -->
            <div id="cart-items-container" class="mt-6 space-y-4 overflow-y-auto max-h-[60vh]">
                <!-- Cart items will be dynamically inserted here -->
                <!-- Example of an empty cart message -->
                <!-- <p id="empty-cart-msg" class="text-gray-500">Your cart is empty.</p> -->
            </div>
            
            <!-- Cart Summary -->
            <div class="mt-8 border-t pt-6">
                <div class="flex justify-between items-center text-lg font-semibold">
                    <span class="text-gray-700">Subtotal:</span>
                    <span id="cart-total" class="text-gray-900">$0.00</span>
                </div>
                <button class="w-full mt-6 bg-indigo-600 text-white py-3 rounded-lg font-semibold text-lg hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>
    
    <!-- Success Message Toast -->
    <div id="toast-message" class="fixed bottom-10 right-10 bg-green-500 text-white py-3 px-6 rounded-lg shadow-lg opacity-0 transform translate-y-10 transition-all duration-300">
        Item added to cart!
    </div>


    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- STATE ---
            
            // Mock product data. In a real app, this would come from a backend API.
            const products = [
                { id: 1, name: 'Wireless Headphones', price: 149.99, imageUrl: 'https://placehold.co/400x400/indigo/white?text=Headphones' },
                { id: 2, name: 'Smart Watch', price: 299.50, imageUrl: 'https://placehold.co/400x400/3B82F6/white?text=Watch' },
                { id: 3, name: 'Portable Speaker', price: 89.99, imageUrl: 'https://placehold.co/400x400/10B981/white?text=Speaker' },
                { id: 4, name: 'Ergonomic Mouse', price: 75.00, imageUrl: 'https://placehold.co/400x400/EF4444/white?text=Mouse' },
                { id: 5, name: 'Mechanical Keyboard', price: 120.00, imageUrl: 'https://placehold.co/400x400/6366F1/white?text=Keyboard' },
                { id: 6, name: '4K Monitor', price: 349.99, imageUrl: 'https://placehold.co/400x400/F59E0B/white?text=Monitor' },
                { id: 7, name: 'USB-C Hub', price: 45.50, imageUrl: 'https://placehold.co/400x400/8B5CF6/white?text=Hub' },
                { id: 8, name: 'Laptop Stand', price: 39.99, imageUrl: 'https://placehold.co/400x400/EC4899/white?text=Stand' },
            ];

            // Cart state. This holds the items in the cart.
            let cart = [];

            // --- DOM SELECTORS ---
            const productList = document.getElementById('product-list');
            const cartButton = document.getElementById('cart-button');
            const closeCartButton = document.getElementById('close-cart-button');
            const cartModal = document.getElementById('cart-modal');
            const cartSidebar = document.getElementById('cart-sidebar');
            const cartItemsContainer = document.getElementById('cart-items-container');
            const cartCount = document.getElementById('cart-count');
            const cartTotal = document.getElementById('cart-total');
            const toastMessage = document.getElementById('toast-message');
            
            // Page navigation selectors
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-section');

            // --- FUNCTIONS ---

            /**
             * Updates the active navigation link based on the user's scroll position.
             */
            function updateActiveNavOnScroll() {
                const headerOffset = 80; // Offset for the sticky header (approx height)
                const scrollY = window.scrollY;
                let currentActivePage = '';

                // Find the last section that is above the scroll position
                pages.forEach(section => {
                    if (section.offsetTop - headerOffset <= scrollY) {
                        currentActivePage = section.id.replace('page-', '');
                    }
                });

                // Apply active classes to the matching nav link
                navLinks.forEach(link => {
                    const page = link.dataset.page;
                    if (page === currentActivePage) {
                        link.classList.add('text-indigo-600', 'font-semibold');
                        link.classList.remove('text-gray-600');
                    } else {
                        link.classList.remove('text-indigo-600', 'font-semibold');
                        link.classList.add('text-gray-600');
                    }
                });
            }


            /**
             * Renders the product cards on the page.
             */
            function renderProducts() {
                if (!productList) return;
                
                productList.innerHTML = ''; // Clear existing products
                products.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'bg-white rounded-lg shadow-md overflow-hidden transform transition-transform hover:scale-105';
                    productCard.innerHTML = `
                        <img src="${product.imageUrl}" alt="${product.name}" class="w-full h-56 object-cover" onerror="this.src='https://placehold.co/400x400/gray/white?text=Image+Error'">
                        <div class="p-6">
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">${product.name}</h3>
                            <p class="text-2xl font-bold text-indigo-600 mb-4">$${product.price.toFixed(2)}</p>
                            <button 
                                data-product-id="${product.id}"
                                class="add-to-cart-btn w-full bg-indigo-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50"
                            >
                                Add to Cart
                            </button>
                        </div>
                    `;
                    productList.appendChild(productCard);
                });
            }

            /**
             * Renders the items currently in the cart inside the modal.
             */
            function renderCart() {
                cartItemsContainer.innerHTML = ''; // Clear existing cart items
                let total = 0;
                let totalItems = 0;

                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = '<p id="empty-cart-msg" class="text-gray-500">Your cart is empty.</p>';
                } else {
                    cart.forEach(item => {
                        total += item.price * item.quantity;
                        totalItems += item.quantity;
                        
                        const cartItem = document.createElement('div');
                        cartItem.className = 'flex justify-between items-center space-x-4 p-2 rounded-lg hover:bg-gray-50';
                        cartItem.innerHTML = `
                            <img src="${item.imageUrl}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md" onerror="this.src='https://placehold.co/64x64/gray/white?text=Img'">
                            <div class="flex-1 min-w-0">
                                <h4 class="text-md font-semibold text-gray-800 truncate">${item.name}</h4>
                                <p class="text-sm text-gray-600">$${item.price.toFixed(2)} x ${item.quantity}</p>
                            </div>
                            <div class="flex-shrink-0">
                                <button data-product-id="${item.id}" class="remove-from-cart-btn text-red-500 hover:text-red-700 font-medium text-sm focus:outline-none">
                                    Remove
                                </button>
                            </div>
                        `;
                        cartItemsContainer.appendChild(cartItem);
                    });
                }
                
                // Update total price and cart count badge
                cartTotal.textContent = `$${total.toFixed(2)}`;
                cartCount.textContent = totalItems;
            }

            /**
             * Adds a product to the cart or increments its quantity.
             * @param {number} productId - The ID of the product to add.
             */
            function addToCart(productId) {
                // Find the product in the main products list
                const product = products.find(p => p.id === productId);
                if (!product) return;

                // Check if the product is already in the cart
                const cartItem = cart.find(item => item.id === productId);

                if (cartItem) {
                    // Increment quantity
                    cartItem.quantity++;
                } else {
                    // Add new item to cart
                    cart.push({ ...product, quantity: 1 });
                }
                
                showToast('Item added to cart!');
                renderCart(); // Update the cart display
            }

            /**
             * Removes a product from the cart.
             * @param {number} productId - The ID of the product to remove.
             */
            function removeFromCart(productId) {
                // Filter out the item to be removed
                cart = cart.filter(item => item.id !== productId);
                renderCart(); // Update the cart display
            }
            
            /**
             * Shows the cart modal with a slide-in animation.
             */
            function openCart() {
                cartModal.classList.remove('opacity-0', '-translate-x-full', 'pointer-events-none');
                cartModal.classList.add('opacity-100');
                cartSidebar.classList.remove('translate-x-full');
            }

            /**
             * Hides the cart modal with a slide-out animation.
             */
            function closeCart() {
                cartModal.classList.remove('opacity-100'); // <-- FIX: Remove this class
                cartModal.classList.add('opacity-0');
                cartModal.classList.add('pointer-events-none');
                cartSidebar.classList.add('translate-x-full');
                // Wait for animation to finish before fully hiding
                setTimeout(() => {
                     cartModal.classList.add('-translate-x-full');
                }, 300);
            }
            
            /**
             * Displays a temporary toast message.
             * @param {string} message - The message to display.
             */
            function showToast(message) {
                toastMessage.textContent = message;
                toastMessage.classList.remove('opacity-0', 'translate-y-10');
                
                setTimeout(() => {
                    toastMessage.classList.add('opacity-0', 'translate-y-10');
                }, 2000); // Hide after 2 seconds
            }

            // --- EVENT LISTENERS ---

            // Open/Close Cart
            cartButton.addEventListener('click', openCart);
            closeCartButton.addEventListener('click', closeCart);
            // Close cart if clicking on the background overlay
            cartModal.addEventListener('click', (e) => {
                if (e.target === cartModal) {
                    closeCart();
                }
            });
            
            // Page Navigation Listeners (for smooth scroll)
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent default link behavior
                    const pageId = e.currentTarget.dataset.page;
                    const targetSection = document.getElementById(`page-${pageId}`);
                    
                    if (targetSection) {
                        const headerOffset = 80; // 80px offset for sticky header
                        const elementPosition = targetSection.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.scrollY - headerOffset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Listen for scroll events to update nav
            window.addEventListener('scroll', updateActiveNavOnScroll);

            // Event delegation for "Add to Cart" and "Remove" buttons
            document.body.addEventListener('click', (e) => {
                // Handle "Add to Cart"
                const addToCartBtn = e.target.closest('.add-to-cart-btn');
                if (addToCartBtn) {
                    const productId = parseInt(addToCartBtn.dataset.productId, 10);
                    // Add check for valid number
                    if (!isNaN(productId)) {
                        addToCart(productId);
                    } else {
                        console.error("Failed to add to cart: Invalid product ID.", addToCartBtn.dataset.productId);
                    }
                    return; // Stop further processing
                }
                
                // Handle "Remove from Cart"
                const removeFromCartBtn = e.target.closest('.remove-from-cart-btn');
                if (removeFromCartBtn) {
                    const productId = parseInt(removeFromCartBtn.dataset.productId, 10);
                    // Add check for valid number
                    if (!isNaN(productId)) {
                        removeFromCart(productId);
                    } else {
                        console.error("Failed to remove from cart: Invalid product ID.", removeFromCartBtn.dataset.productId);
                    }
                    return; // Stop further processing
                }
            });

            // --- INITIALIZATION ---
            renderProducts();
            renderCart();
            updateActiveNavOnScroll(); // Set initial active link on page load
        });
    </script>

</body>
</html>